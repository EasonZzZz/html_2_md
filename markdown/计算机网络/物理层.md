---
title: 物理层
date: 2020-07-01
updated: 2020-07-01
tags:
- 计网
categories:
- 计算机网络
---

物理层解决如何在连接各种计算机的传输媒体上**传输数据比特流**，而不是指具体的传输媒体。
主要任务：确定与传输媒体**接口**有关的一些特性
**机械特性**：定义物理连接的特性，规定物理连接时所采用的规格、接口形状、**引线数目**、**引脚数目**和排列情况
**电气特性**：规定传输二进制位时，线路上信号的**电压范围**、阻抗匹配、传输**速率**和**距离**限制
**功能特性**：指明某一条线上出现的某一**电平表示何种意义**，接口部件的信号线的用途
**规程特性**：定义各条物理线路的工作**规程和时序**关系


通信的目的是**传递信息**
**数据**：传递信息的实体，通常是有意义的符号序列
**信息**：数据的内容和解释
**信号**：数据的电气/电磁的表现，是数据在传输过程中的*存在形式*- 数字信号（离散），模拟信号（连续）

**信源、信宿**：发送、接收方
**信道**：信号的传输媒介，一般用来表示向某一方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接受信道- *传输信号*：模拟信道、数字信道
- *传输介质*：无线信道、有线信道

**信号带宽**：信道能够通过的**最高频率和最低频率之差**
**物理带宽**：传输过程中振幅不会明显衰减的频率范围，通俗点讲，就是使信号容易通过的频率范围


从通信双方的交互方式来看，有三种基本通讯方式
**单工通信**：只有一个方向而没有反方向的交互，仅需**一条**信道
**半双工通信**：通信双方都可以发送或接受，但任何一方**不能同时**发送和接受，需要**两条**信道
**双工通信**：通信双方可以同时发送和接受信息，也需要**两条**信道


两种数据传输方式
**串行传输**：速度**慢**，费用**低**，适合**远**距离
**并行传输**：速度**快**，费用**高**，适合**近**距离（计算机内部）


码元是指一个**固定时长**的**信号波形**（数据脉冲），代表**不同离散数值的基本波形**，是数字通信中数字信号的计量单位，这个时长内的信号称为 k 进制码元，而该时长称为码元宽度。
**1码元可以携带多个比特的信息量**- 例如在使用二进制码元时，只有两种不同码元，0/1
- 使用 4 进制码元，有 4 种码元，00/01/10/11


速率也叫数据率，是指数据的**传输速率**，表示单位时间内传输的数据量。可以用**码元传输速率**和**信息传输速率**表示。
**码元传输速率**：表示**单位时间**内数字信号系统所传输的**码元个数**（也可称为*脉冲个数或信号变化的次数*），单位是**波特(Baud)**
**信息传输速率**：表示单位时间内数字通信系统传输的二进制码元个数（即**比特数**），单位是**比特/秒(b/s)**
**信道容量**：信道传输信息的最大极限速率，表征了一个信道传输数字信号的能力，类似于速率与带宽。由信道本身的特征（带宽和信噪比）决定。
若一个码元携带**n bit**的信息，则**M Baud**的码元传输速率对应的信息传输速率位**M x n bit/s**- n=log2kn = log_{2}kn=log2​k



失真影响因素：
码元传输速率
信号传输距离
噪声干扰
传输媒体质量

**码间干扰**：**接收端**收的信号波形**失去了码元之间清晰界限**的现象

**奈氏准则（奈奎斯特定理）**
在理想低通（无噪声，带宽受限）条件下，为了避免码间串扰，极限**码元**传输速率为 2W Baud，W 是信号带宽，单位是 Hz
**极限数据传输率 = 2Wlog2V2Wlog_{2}V2Wlog2​V**(b/s)

在任何信道中，**码元传输速率是有上限的**。若传输速率超过此上限，就会出现严重的码间串扰问题，使接收端对码元的完全正确识别成为给不可能
信道的**频带越宽**（即能通过的信号高频分量越多），就可以用更高的速率进行码元的有效传输
**奈氏准则给出了码元传输速率的限制，但并没有对信息传输速率给出限制**
由于码元的传输限制受奈氏准则的制约，所以要提高数据的传输速率，就必须设法使每个码元能携带更多bit的信息量，需要采用多元制。


**噪声**存在于所有电子设备和通信信道中。由于噪声随机产生，它的瞬间值有时会特别大，因此会导致接受端码元出错。
但是噪声的影响是相对的，若信号较强，那么噪声影响相对较小。因此，**信噪比**就很重要。
**信噪比 = 信号的平均功率 / 噪声的平均功率**，记为 S/N，并用分贝（dB）作为度量单位，即
信噪比(dB)=10log10(S/N)信噪比(dB) = 10log_{10}(S/N)
信噪比(dB)=10log10​(S/N)

**香农定理**
在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输率有上限值
信道的极限数据传输率=Wlog2(1+S/N)信道的极限数据传输率 = Wlog_{2}(1 + S/N)
信道的极限数据传输率=Wlog2​(1+S/N)
信道的**带宽**或信道中的**信噪比**越大，则信息的极限传输速率就**越高**
对一定的传输带宽和一定的信噪比，信息传输速率的上限就确定了
只要信息的传输速率低于信道的极限传输速率，就一定能找到某种方法来实现**无差错的传输**
香农定理得出的为极限信息传输率，实际信道能达到的传输速率要比它低不少


**奈氏准则和香农定理区别**

| 奈氏（内忧） | 香农（外患） |
| --- | --- |
| 为了避免码间串扰 | 带宽受限、有噪声 |
| 2Wlog2V2Wlog_{2}V2Wlog2​V | Wlog10(1+S/N)Wlog_{10}(1+S/N)Wlog10​(1+S/N) |
| 提高带宽/更好的编码技术 | 提高带宽/信噪比 |


**基带信号**：将数字信号 1 和 0**直接**用两种不同电压表示，再送到**数字信道**上去传输（基带传输）
**来自信源**的信号

**宽带信号**：将基带信号进行**调制**后形成的频分复用模拟信号，再传送到**模拟信道**上去传输（宽带传输）
把基带信号经过**载波调制**后，把信号的**频率范围搬移**到**较高的频段**以便在信道中传输

传输距离较近时，采用**基带传输**方式（近距离衰减小）
传输距离较远时，采用**宽带传输**方式（远距离衰减大）

**编码：数据 ——> 数字信号**
**NRZ-L(不归零编码）**- 编码容易实现，但是没有检错能力，且无法判断一个码元的开始和结束，以至于收发双方**难以保持同步**

NRZ-I（不归零反相编码）- 信号电平翻转表示 0，不变表示 1

*Manchester（曼彻斯特编码）*- 将一个码元分为两个相等的间隔，前低后高表示 1，反之为 0；也可以采用相反的规定
- 在一个码元中间出现电平跳变，**位中间的跳变既作时钟信号（用于同步），又作数据信号**
- 频段宽度是原始基带宽度的两倍，**数据传输率只有调制速率的 1/2**

*Differential Manchester（差分曼彻斯特编码）*- 同 1 异 0：若码元为 1，则前半个码元与上一个码元的后半个电平相同；若为 0，则相反。
- 在每个码元中间，都有一次电平跳变，可以实现自同步，且抗干扰能力**强**于曼切斯特编码
- 常用于局域网传输

4B/5B 编码- 插入额外的比特以打破一连串的 0 或 1，就是用 5 bits 编码 4 bits
- 编码效率为 80%

比较：- 不归零制编码的编码密度最高，接收端一次采样可得到一个bit ，即波特率等于比特率，但不能携带时钟
- 曼切斯特编码的编码密度最低，接收端二次采样才可得到一个bit ，即波特率是比特率的两倍，但每个bit中都有信号跳变，即携带了时钟
- 差方曼切斯特编码与曼切斯特编码基本相同
- 4B/5B 编码的编码密度略低于不归零制编码，但高于曼切斯特编码，即波特率是比特率的 1.25 倍，然而在接收端能提取时钟


**调制：数据 ——> 模拟信号**
调幅 ASK(Amplitude Shift Keying)
调频 FSK(Frequency Shift Keying)
调相 PSK(Phase Shift Keying)
幅和相结合（如正交振幅调制 QAM）


**模拟数据编码为数字信号——脉码编址（PCM）**
PCM 只要包括三步：抽样、量化、编码
**抽样**：f采样频率≥2f信号最高频率f_{采样频率} \geq 2f_{信号最高频率}f采样频率​≥2f信号最高频率​
**量化**：把采样的电平幅值按照一定分级标度转化为对应的数字，并取整数，这样就把连续的电平赋值转换为离散的数字量- 均匀量化、非均匀量化

**编码**：把量化的结果转换为与之对应的二进制编码

语音信道：语音数据最高3400Hz，以8000Hz采样就可完全还原


**导向性传输介质–1.双绞线**
双绞线由**两根**采用一定规则并排**绞合**的、相互绝缘的**铜导线**组成。
为了进一步提高抗电磁能力，可在双绞线的外面再加上一个由金属丝编织成的屏蔽层，这就是**屏蔽双绞线(STP)**，无屏蔽层的双绞线就称为**非屏蔽双绞线(UTP)**
**价格便宜**，是最常用的传输介质之一
模拟传输和数字传输都可以用双绞线，通信距离一般在几公里到数十公里- 对于**模拟传输**，要用**放大器**放大衰减的信号
- 对于**数字传输**，要用**中继器**将失真的信号整形



**导向性传输介质–2.同轴电缆**
同轴电缆由导体**铜质芯线、绝缘层、网状编织屏蔽层**和**塑料外层**构成，四种材料共轴。根据特性抗阻不同分为两类：**基带同轴电缆**（局域网）、**宽带同轴电缆**（有线电视）。
**抗干扰性**比双绞线好，被广泛用于传输较高速率的数据，其**传输距离更远**，但是**价格更贵**


**导向性传输介质–3.光纤**
光纤通信就是利用光导纤维传递**光脉冲**来进行通信，因为可见光频率高，所以光纤的**带宽远远大于**其他传输媒体的带宽。
光纤主要是由**纤芯（实心）**和**包层**构成，光纤通过纤芯传导，包层的折射率比纤芯低，会发生**全反射**。实现超低损耗，超远传输。
单模光纤：一种**横向模式**直接传输光信号的光纤，需要**定向性**很好的**激光**二极管作光源。损耗小，适合**远**距离传输
多模光纤：有**多种**传输光信号的光纤，只需要发光二极管作光源。**易失真**，适合**近**距离传输

光纤的特点：
传播**损耗小**，中继距离长，对远距离传输特别经济
**抗雷电和电磁干扰性能好**
无串音干扰，保密性好，也**不易被窃听或截取数据**
**体积小，重量轻**


**非导向性传输介质**
无线电波：较强**穿透能力**，可传远距离，广泛用于通信领域（如手机通信）
信号向**所有方向**传播

微波：通信频率较高、频段范围宽，因此数据率很高
信号**固定方向**传播
传输距离较短，需要中继- 地面微波接力通信
- **卫星通信**：容量大，距离远，覆盖广，广播通信和多址通信；但是时延大，受气候影响，误码率高，成本高


红外线、激光：把要传输的信号分别**转换为各自的信号格式**
信号**固定方向**传播


**频分多路复用**- 将具有一定带宽的信道在**逻辑上划分为n个较小带宽的子信道**，选择n路信号，根据各自不同的调制器，对各路频率不同的载波进行调制，这种技术叫做频谱搬移技术。从而在每路子信道传输一路调制信号，达到信道复用的目的
- 为了使n路信号各不相干扰覆盖，在每路信号的频段之间增加**防护频带**，即是使各路子信道的带宽大于各路信号的带宽。

**时分多路复用**- **“把时间帧划分成若干时隙和各路信号占用各自时隙”**的方法来实现同一信道传输多路信号
- 一个信道可以有多少路信号复用主要取决于信道的带宽和每路信号的需求
- 又分为**同步时分多路复用（TDM）（每个终端的时间片是固定的）**和**异步时分多路复用（统计时分复用，STDM）（动态的按需分配时间片）。**

**码分多路复用**- 允许所有站在同一时间使用整个信道进行数据传送，采用码型来区分各路信号。特点：**不再有冲突假设,信号可以线性叠加**
- 在 CDMA 中，每个比特时间再分成 m 个码片，每个站分配一个唯一的 M 比特码序列- 当某个站发送“1” 时，在信道中发送它的码序列；
- 当发送“0”时，就发送它的码序列的补码(非值)。
- 这种编码方式使得发送信息量为原来的m倍.

- 当某个站发送“1” 时，在信道中发送它的码序列；
- 当发送“0”时，就发送它的码序列的补码(非值)。
- 这种编码方式使得发送信息量为原来的m倍.



**中继器**：对信号进行**再生和还原**，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络的长度
中继器、集线器都是物理层设备

